webpackJsonp([11],{/***/
35:/***/
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=t.BCMessaging=function(){var e={};e.ERROR="danger";e.WARNING="warning";e.SUCCESS="success";var t=null;var n=[];e.addMessage=function(e,t){if(typeof n[e]=="undefined")n[e]=[];n[e].push(t)};e.getMessages=function(e){if(typeof n[e]=="undefined")n[e]=[];return n[e]};e.notify=function(e,t){i("top",{type:e,message:t})};e.notifyPending=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var a="<ul>";if(!t)n[e].forEach(function(e){a+="<li>"+e+"</li>"});else t.forEach(function(e){a+="<li>"+e+"</li>"});a+="</ul>";n[e]=[];i("top",{type:e,message:a})};function i(e,n){if(!t)o(e);a(n)}function a(e){var n=document.createElement("div");n.classList.add("single-notification");n.innerHTML=r()(e.type,e.message);t.appendChild(n);var i=n.childNodes;for(var a=0;a<i.length;a++){if(i[a].className=="close"){i[a].addEventListener("click",function(){t.removeChild(n)});break}}setTimeout(function(){n.classList.add("about-to-close");setTimeout(function(){t.removeChild(n);if(t.childNodes.length==0)s()},500)},3e3)}function o(e){t=document.createElement("div");t.classList.add("bcnotification");t.classList.add(e+"-notification");document.body.appendChild(t)}function s(){if(t){t.parentNode.removeChild(t);t=null}}function r(){return function(e,t){return'<div class="inner-message alert alert-'+e+'">\n                                    <button type="button" class="close" data-dismiss="alert">&times;</button>\n                                    '+t+"\n                                </div>"}}return e}()},/***/
6:/***/
function(e,t,n){"use strict";/* WEBPACK VAR INJECTION */
(function(e){Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var a=n(35);var o=n(2);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}/**
*    Declaration of your module
*    @params modulename and undefined
**/
var r=function(){function t(){s(this,t)}i(t,[{key:"init",value:function t(){var n=this;var i=this.getParameterByName("cohort");if(i)document.querySelector("#cohort-id").value=i;document.querySelector("#cohort-id").addEventListener("change",function(e){if("URLSearchParams"in window){var t=new URLSearchParams(window.location.search);t.set("cohort",e.target.value);window.location.search=t.toString()}});document.querySelector("#badge-slug").addEventListener("change",function(e){document.querySelector("#givebadges").classList.remove("hidden")});var a=document.querySelectorAll(".studentsToAssign li");if(a&&a.length>0)Array.from(a).forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget;if(t.classList.contains("selected")){if(e.target.tagName!=="INPUT")t.classList.remove("selected")}else t.classList.add("selected")})});var o=document.querySelectorAll(".studentsToAssign li input");if(o&&o.length>0)Array.from(o).forEach(function(e){e.addEventListener("input",function(e){var t=e.currentTarget.parentNode.parentNode;if(parseInt(e.currentTarget.value)>0){if(!t.classList.contains("selected"))t.classList.add("selected")}else{if(t.classList.contains("selected"))t.classList.remove("selected")}})});e("#points").tooltip({title:"If a number is entered, the system will ignore the points in the list below."});e("#givebadges").confirm({text:"Are you sure you want to give the badges?",title:"Confirmation required",confirm:function e(t){n.givebadges()},cancel:function e(t){},confirmButton:"Yes I am",cancelButton:"No",post:true,confirmButtonClass:"btn-danger",cancelButtonClass:"btn-default",dialogClass:"modal-dialog modal-lg"})}},{key:"givebadges",value:function t(){var n=[];var i=[];var a=0;e(".studentsToAssign li.selected").each(function(){n.push(e(this).data("id"));i.push(e(this).children(".studentPoints").children().val())});var o=e("#points").val();//points: $('#points').val()//send array
if(o===""){o=i}var s={action:"add_bulk_badges",badge:e("#badge-slug").val(),students:n,points:o};console.log(s);e(".inside-content").hide();e(".loading").removeClass("hidden");this.sendForm(s)}},{key:"getParameterByName",value:function e(t,n){if(!n)n=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),a=i.exec(n);if(!a)return null;if(!a[2])return"";return decodeURIComponent(a[2].replace(/\+/g," "))}},{key:"sendForm",value:function t(n){e.ajax({url:WPAS_APP.ajax_url,method:"post",dataType:"json",data:n,success:function t(n){if(n){if(n.code=="200"){e(".loading").html('Success! <a href="#" onClick="window.location.reload();">Click here to give more badges</a>')}else{a.BCMessaging.notifyPending(a.BCMessaging.ERROR,n.msg)}}}})}}]);return t}();t.default=r}).call(t,n(0))}});