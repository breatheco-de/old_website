webpackJsonp([11],{4:function(e,r,n){"use strict";(function(e){function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),o=function(){function r(){n(this,r),this.errorAlert=".alert-danger"}return t(r,[{key:"init",value:function(){var e=this;document.querySelector(".form-signin").addEventListener("submit",function(r){return r.preventDefault(),e.validateLogin()&&e.login(),!1})}},{key:"validateLogin",value:function(){var e=document.querySelector("#username").value,r=document.querySelector("#password").value;if(e&&r)return!0}},{key:"login",value:function(){var e=document.querySelector("#username").value,r=document.querySelector("#password").value;this.send(e,r)}},{key:"showError",value:function(e){var r=document.querySelector(this.errorAlert);r.innerHTML=e,r.style.display="block";var n=document.querySelector("#login");n.disabled=!1,n.innerHTML="Sign In",n.classList.add("btn-primary")}},{key:"hideError",value:function(){var e=document.querySelector(this.errorAlert);e.innerHTML="",e.style.display="none";var r=document.querySelector("#login");r.disabled=!1,r.innerHTML="Loading...",r.classList.remove("btn-primary")}},{key:"send",value:function(r,n){var t=this;this.hideError();var o={action:"custom_login",username:r,password:n};return e.ajax({url:WPAS_APP.ajax_url,method:"post",dataType:"json",data:o,success:function(e){e&&("200"==e.code?window.location.href=e.data:t.showError(e.msg))}}),!1}}]),r}();r.default=o}).call(r,n(0))}});