webpackJsonp([3],{10:function(e,t,n){"use strict";(function(e){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(34),r=n(50),s=function(){function t(){o(this,t)}return i(t,[{key:"init",value:function(){var e=this;r.BadgesManager.init(".badg-img"),window.addEventListener("message",function(t){if(~t.origin.indexOf("https://assets.breatheco.de")){var n=document.querySelector("#student").value,o=document.querySelector("#quiz").value,i=document.querySelectorAll(".single-badge");if(t.data.started)e.sendForm({action:"save_attempt",student:n,quiz:o},function(){console.log("Quiz attempt successfully saved.")});else{Math.floor(t.data.passedQuestions/t.data.totalQuestions*100)>75&&i.forEach(function(e){var t=e.getAttribute("data-slug"),o=e.getAttribute("data-points");this.sendForm({action:"give_points",badge:t,student:n,points:o},function(){a.BCMessaging.notify(a.BCMessaging.SUCCESS,"Poins for "+t+" given successfully."),window.location.reload()})})}}})}},{key:"sendForm",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.ajax({url:WPAS_APP.ajax_url,method:"post",dataType:"json",data:t,success:function(e){e&&("200"==e.code?n&&n():a.BCMessaging.notifyPending(a.BCMessaging.ERROR,e.msg))}})}}]),t}();t.default=s}).call(t,n(0))},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BCMessaging=function(){function e(e,o){r||n(e),t(o)}function t(e){var t=document.createElement("div");t.classList.add("single-notification"),t.innerHTML=i()(e.type,e.message),r.appendChild(t);for(var n=t.childNodes,a=0;a<n.length;a++)if("close"==n[a].className){n[a].addEventListener("click",function(){r.removeChild(t)});break}setTimeout(function(){t.classList.add("about-to-close"),setTimeout(function(){r.removeChild(t),0==r.childNodes.length&&o()},500)},3e3)}function n(e){r=document.createElement("div"),r.classList.add("bcnotification"),r.classList.add(e+"-notification"),document.body.appendChild(r)}function o(){r&&(r.parentNode.removeChild(r),r=null)}function i(){return function(e,t){return'<div class="inner-message alert alert-'+e+'">\n                                    <button type="button" class="close" data-dismiss="alert">&times;</button>\n                                    '+t+"\n                                </div>"}}var a={};a.ERROR="danger",a.WARNING="warning",a.SUCCESS="success";var r=null,s=[];return a.addMessage=function(e,t){void 0===s[e]&&(s[e]=[]),s[e].push(t)},a.getMessages=function(e){return void 0===s[e]&&(s[e]=[]),s[e]},a.notify=function(t,n){e("top",{type:t,message:n})},a.notifyPending=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o="<ul>";n?n.forEach(function(e){o+="<li>"+e+"</li>"}):s[t].forEach(function(e){o+="<li>"+e+"</li>"}),o+="</ul>",s[t]=[],e("top",{type:t,message:o})},a}()},50:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.BadgesManager=void 0;var o=n(34);t.BadgesManager=function(){function t(t){u=!1,d&&(c=!0),document.querySelectorAll(s).forEach(function(t){u||e(t.parentNode).popover("hide")})}function n(t){u=!0;var n=r,a=e(t.target).data("slug");if(void 0!==a)return void 0!==n[a]?(document.querySelectorAll(s).forEach(function(n){n==t.target?e(t.target.parentNode).popover("show"):e(n.parentNode).popover("hide")}),n[a]):(n[a]={description:"Loading..."},d=!0,e(t.target.parentNode).popover({placement:function(e,n){var o=i(t.target);return o.left>515?"left":o.left<515?"right":o.top<110?"bottom":"top"},content:function(){return n[a].description}}).popover("show"),e.ajax({url:WPAS_APP.ajax_url,method:"GET",data:{action:"get_badge",badge:a},success:function(i){d=!1,200==i.code?(n[a]=i.data,document.querySelectorAll(s).forEach(function(n){n==t.target?c?c=!1:e(t.target.parentNode).popover("show"):e(n.parentNode).popover("hide")})):o.BCMessaging.notify(o.BCMessaging.ERROR,i.msg)}}),void 0)}function i(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}}var a={},r=[],s="",u=!1,c=!1,d=!1;return a.init=function(e){s=e,document.querySelectorAll(s).forEach(function(e){e.addEventListener("mouseenter",function(e){return n(e)}),e.addEventListener("mouseout",function(e){return t(e)})})},a}()}).call(t,n(0))}});