webpackJsonp([8],{/***/
13:/***/
function(e,n,t){"use strict";/* WEBPACK VAR INJECTION */
(function(e){Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(n,t,a){if(t)e(n.prototype,t);if(a)e(n,a);return n}}();var i=t(35);function s(e,n){if(!(e instanceof n)){throw new TypeError("Cannot call a class as a function")}}/**
*    Declaration of your module
*    @params modulename and undefined
**/
var r=function(){function n(){s(this,n)}a(n,[{key:"init",value:function n(){var t=this;document.querySelector("#modal_new-assignment .send-btn").addEventListener("click",function(n){var a=e("#cohort").val();var i=e("#atemplate-select").val();var s=e("#duedate").val();t.createAsignment(a,s,i)});var a=document.querySelectorAll(".assignments .btn-success");if(a&&a.length>0)Array.from(a).forEach(function(n){n.addEventListener("click",function(n){var a={action:"get_assignment_earnings",slug:n.target.getAttribute("data-slug")};document.querySelector("#assignment-id").value=n.target.getAttribute("data-assignment");document.querySelector("#student-name").value=n.target.getAttribute("data-student");var s=document.querySelector("#modal-accept_assignment .send-btn");e.ajax({url:WPAS_APP.ajax_url,data:a,success:function e(n){if(n.code==500){i.BCMessaging.notify(i.BCMessaging.ERROR,n.msg);document.querySelector(".project-earnings").innerHTML="";s.classList.add("hidden")}else{var a=n.data;var r=t.printProjectEarnings(a);document.querySelector(".project-earnings").innerHTML=r;document.querySelector("#assignment-title").value=a.title;s.classList.remove("hidden")}}})})});document.querySelector("#modal-accept_assignment .send-btn").addEventListener("click",function(e){
//let inputs = document.forms.acceptassignment;
//var myControls = inputs.elements['badge[]'];
var n=document.querySelector("#assignment-id").value;var a=document.querySelectorAll("input[name*='badge']");var i={};a.forEach(function(e){i[e.getAttribute("data-key")]=e.value});t.acceptAsignment(i,n)});var s=document.querySelectorAll(".assignments .btn-danger");if(s&&s.length>0)Array.from(s).forEach(function(e){e.addEventListener("click",function(e){document.querySelector("#assignment-id").value=e.target.getAttribute("data-assignment");var n=document.querySelector("#modal-reject_assignment .send-btn");n.classList.remove("hidden")})});document.querySelector("#modal-reject_assignment .send-btn").addEventListener("click",function(e){
//let inputs = document.forms.acceptassignment;
//var myControls = inputs.elements['badge[]'];
var n=document.querySelector("#assignment-id").value;var a=document.querySelector("#reject_reason").value;t.rejectAssignment(n,a)})}},{key:"send",value:function n(t){var a={action:"deliver_project",assignment:t};
// the_ajax_script.ajaxurl is a variable that will contain the url to the ajax processing file
e.ajax({url:WPAS_APP.ajax_url,method:"post",dataType:"json",data:a,success:function e(n){if(n){if(n.code=="200")window.location.reload();else i.BCMessaging.notify(i.BCMessaging.ERROR,n.msg)}else i.BCMessaging.notify(i.BCMessaging.ERROR,"The was an unexpected error")}});return false}},{key:"createAsignment",value:function n(t,a,s){var r={action:"create_new_assignment",cohort_id:t,duedate:a,template_id:s};
// the_ajax_script.ajaxurl is a variable that will contain the url to the ajax processing file
e.ajax({url:WPAS_APP.ajax_url,method:"post",dataType:"json",data:r,success:function e(n){if(n){if(n.code=="200")window.location.reload();else i.BCMessaging.notify(i.BCMessaging.ERROR,n.msg)}else i.BCMessaging.notify(i.BCMessaging.ERROR,"The was an unexpected error")}});return false}},{key:"acceptAsignment",value:function n(t,a){var s={action:"accept_assignment",assignment_id:a,points:t};
// the_ajax_script.ajaxurl is a variable that will contain the url to the ajax processing file
e.ajax({url:WPAS_APP.ajax_url,method:"post",dataType:"json",data:s,success:function e(n){console.log(n);if(n){if(n.code=="200")window.location.reload();else i.BCMessaging.notify(i.BCMessaging.ERROR,n.msg)}else i.BCMessaging.notify(i.BCMessaging.ERROR,"The was an unexpected error")}});return false}},{key:"rejectAssignment",value:function n(t,a){var s={action:"reject_assignment",assignment_id:t,reject_reason:a};
// the_ajax_script.ajaxurl is a variable that will contain the url to the ajax processing file
e.ajax({url:WPAS_APP.ajax_url,method:"post",dataType:"json",data:s,success:function e(n){console.log(n);if(n){if(n.code=="200")window.location.reload();else i.BCMessaging.notify(i.BCMessaging.ERROR,n.msg)}else i.BCMessaging.notify(i.BCMessaging.ERROR,"The was an unexpected error")}});return false}},{key:"printProjectEarnings",value:function e(n){var t="";n.talents.forEach(function(e){t+='<div class="input-group">\n\t\t\t\t            <span class="input-group-addon">'+e.badge+"</span>\n\t\t\t\t\t\t    <input max='"+e.points+"' min='0' data-key=\""+e.badge+'" class="form-control talent-input" required="required" type="number" name=\'badge[]\' value=\''+e.points+"'>\n\t\t\t\t        </div>"});return t}}]);return n}();n.default=r}).call(n,t(0))},/***/
35:/***/
function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=n.BCMessaging=function(){var e={};e.ERROR="danger";e.WARNING="warning";e.SUCCESS="success";var n=null;var t=[];e.addMessage=function(e,n){if(typeof t[e]=="undefined")t[e]=[];t[e].push(n)};e.getMessages=function(e){if(typeof t[e]=="undefined")t[e]=[];return t[e]};e.notify=function(e,n){a("top",{type:e,message:n})};e.notifyPending=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i="<ul>";if(!n)t[e].forEach(function(e){i+="<li>"+e+"</li>"});else n.forEach(function(e){i+="<li>"+e+"</li>"});i+="</ul>";t[e]=[];a("top",{type:e,message:i})};function a(e,t){if(!n)s(e);i(t)}function i(e){var t=document.createElement("div");t.classList.add("single-notification");t.innerHTML=o()(e.type,e.message);n.appendChild(t);var a=t.childNodes;for(var i=0;i<a.length;i++){if(a[i].className=="close"){a[i].addEventListener("click",function(){n.removeChild(t)});break}}setTimeout(function(){t.classList.add("about-to-close");setTimeout(function(){n.removeChild(t);if(n.childNodes.length==0)r()},500)},3e3)}function s(e){n=document.createElement("div");n.classList.add("bcnotification");n.classList.add(e+"-notification");document.body.appendChild(n)}function r(){if(n){n.parentNode.removeChild(n);n=null}}function o(){return function(e,n){return'<div class="inner-message alert alert-'+e+'">\n                                    <button type="button" class="close" data-dismiss="alert">&times;</button>\n                                    '+n+"\n                                </div>"}}return e}()}});